@model NWHarvest.Web.ViewModels.FoodBankViewModel

@{
    ViewBag.Title = "Food Bank Details";
    ViewBag.NavBarTitle = "Food Bank Profile";
    var editActionLink = Html.ActionLink("Edit", "Edit", new
    {
        id = Model.Id }, new { @class = "btn btn-primary" });
}
<div class="container-fluid">
    <div class="row">
        @Html.Partial("_FoodBankDetail", Model)
    </div>
    <div class="row">
        <h3>Listings</h3>
        @Html.Partial("_FoodBankTableListing", Model.Listings.ToList())
    </div>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/javascript")

    <script type="text/javascript">
        $(document).ready(function () {

            $("a[data-toggle=\"tab\"]").on("shown.bs.tab", function (e) {
                console.log('show tab');
                $($.fn.dataTable.tables(true)).DataTable()
                    .columns.adjust()
                    .responsive.recalc();
            });

            var table = $('.table')
                .dataTable({
                    "responsive": true,
                    "bAutowidth": false,

                    "columnDefs": [{
                        targets: [1, 2, 3],
                        render: function (data, type, row) {
                            return type === 'display' && data.length > 10 ?
                                data.substr(0, 10) + '…' :
                                data;
                        }
                    }]

                });

        });
    </script>
}